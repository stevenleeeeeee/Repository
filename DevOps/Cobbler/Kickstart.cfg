# 注：文件位于 ~/anaconda-ks.cfg（安装完OS后存在）
# Kickstart file automatically generated by anaconda.
# 版本=开发
# version=DEVEL

install
#安装介质：url or cdrom
url --url="http://192.168.5.1/Centos7/"  #到服务器192.168.111.130 的HTTP根目录下的os下寻找安装介质
#安装完成后重启
reboot
#语言和键盘布局
lang zh_CN.UTF-8
keyboard us
#网络配置
network --onboot no --device eth0 --bootproto dhcp --noipv6
#加密方式设置root密码
rootpw  --iscrypted $6$5XHy/O.DtgKiMf04$5MayVZSdodEj3iwUDYBzAiGETZwuI.u8SZRF3a04vMcgQVzOnEPXz35PAKackJDRHfVUTtQYFCUGNebDaQdd./
#名文方式设置root密码
#rootpw --plaintext root@123456@pass 
#防火墙开启的端口
firewall --service=ssh
#认证加密方式
authconfig --enableshadow --passalgo=sha512
#seliunx级别信息
selinux --enforcing
#时区
timezone --utc Asia/Shanghai
#系统启动引导
bootloader --location=mbr --driveorder=sda --append="crashkernel=auto rhgb quiet"

# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
#clearpart --none
#磁盘信息(默认情况下，因为不一定是通用的设置，所以下面这3段是被注释掉的)
part /boot --fstype=ext4 --size=200
part swap --size=2000
part / --fstype=ext4 --grow --size=200
#repo以及本地安装包,centos网络安装包
repo --name="CentOS"  --baseurl=cdrom:sr0 --cost=100

#安装包
%packages
@chines-support
@core
@server-policy
%end

#安装后需要执行的任意SHELL脚本写在此处...
%post
cat >> /etc/yum.repos.d/base.repo << eof 
[base] 
name=baseserver 
baseurl=http://192.168.1.254/yum 
gpgcheck=0 
enable=1 
eof 
%end
