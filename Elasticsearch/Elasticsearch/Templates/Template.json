curl -XPOST -H 'Content-Type: application/json'  "http://localhost:9200/_template/errorlog_template"  -d '{
    "order": 0,
    "template": "errorlogs_*",              # 模板匹配的索引前缀
    "settings": {
      "index": {
        "search": {
          "slowlog": {                      # 关于慢查询日志的阈值设置
            "threshold": {
              "fetch": {                    # fetch 
                "warn": "1800ms",           # 超过1800ms为warn级别
                "info": "1s"                # 超过1000ms为info级别
              },
              "query": {                    # query
                "warn": "10s",              # 超过10000ms为warn级别
                "info": "6s"                # 超过6000ms为info级别
              }
            }
          }
        },
        "refresh_interval": "30s",          # 将数据持久化的间隔时间,数据刷新后将会被搜索到,默认1S,根据情况适当增加此值可提高性能,索引的刷新频率越快，搜索到的数据就实时
        "number_of_shards": "10",           # 分片数
        "number_of_replicas": "1"           # 副本数
      }
    },
    "mappings": {                           # 针对索引文档的映射相关的设置都放在mappings子key中进行
      "errorlogs": {                        # 索引类型
        "dynamic": false,                   # 关闭动态映射功能
        "properties": {                     # 相关属性的类型及其他设置都在mappings.properties中进行
          "traceId": {
            "type": "keyword"
          },
          "instanceName": {
            "type": "keyword"
          },
          "hostIp": {
            "type": "keyword",
            "analyzer": "linieAnalzyer"      # 使用特定的分析器
          },
          "appName": {
            "type": "keyword",
            "index":"analyzed",              # 首先分析这个字符串然后索引。换言之，以全文形式索引此字段
            "search_analyzer": "ik_max_word" # 设置搜索时使用的分词器
          },
          "opId": {
            "type": "keyword"
          },
          "interStartTime": {
              "type": "date",                # 设置字段类型为时间类型
              "format": "yyyyMMddHH:mm:ssSSS||yyyyMMddHH:mm:ss||date_time"  # 给定时间格式
          },
          "errorCode": { 
            "type": "not_analyzed"           # 索引这个字段，使之可以被搜索，但是索引内容和指定值一样。不分析此字段
          },
          "serviceName": {
            "type": "keyword"
          },
          "errorMsg": {
            "analyzer": "ik_max_word",       # 使用特定的分词器对文本进行分词后存入倒排索引中
            "type": "text"
          },
          "browserType": {
            "type": "keyword"
          },
          "errorTime": {
            "format": "yyyyMMddHHmmss",
            "type": "date"
          },
          "exceptionStack": {
            "analyzer": "ik_max_word",
            "type": "text"
          },
          "province": {
            "type": "keyword",
            "index":"no"                     # 不索引这个字段。这个字段不能为搜索到
          },
          "systemCode": {
            "type": "long"                  # 数值类型
          }
        }
      }
    },
    "aliases": {}                           # 索引别名的相关设置
}'
